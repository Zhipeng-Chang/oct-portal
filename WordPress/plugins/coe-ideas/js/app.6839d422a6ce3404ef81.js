webpackJsonp([1],{"4+hh":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n={name:"app",mounted:function(){var e=this;L.$on("initialize-ideas",function(t){t.route&&e.$router.push(t.route)})}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app-ideas"}},[t("router-view")],1)},staticRenderFns:[]},s=a("VU/8")(n,r,!1,function(e){a("cShR")},null,null).exports,o=a("/ocq"),d=a("mtWM"),l=a.n(d),c=l.a.create({baseURL:"https://octportal.edmonton.ca:5000/Ideas",headers:{AuthorizationEncrypted:"true"}});c.setUserInfo=function(e){l.a.defaults.headers.common.Authorization="Bearer "+(e||{}).auth},c.setIdeaApi=function(e){e?c.baseURL=e:l.a.defaults.baseURL="https://octportal.edmonton.ca:5000/Ideas"};var u=c,m=a("ESwS"),f=a("+cKO"),h={name:"NewIdea",mixins:[m.validationMixin],data:function(){return{sending:!1,form:{title:null,description:null,tags:[]},fileAttachments:[]}},validations:{form:{title:{required:f.required,minLength:Object(f.minLength)(3),maxLength:Object(f.maxLength)(255)},description:{required:f.required,minLength:Object(f.minLength)(3)}}},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.form.title=null,this.form.description=null,this.form.tags=[]},saveIdea:function(){var e=this;this.sending=!0,console.log("saving new idea"),u.post("",{title:this.form.title,description:this.form.description}).then(function(t){console.log("new idea saved!"),e.sending=!1;var a=t.data;a&&a.url&&a.url.length>0&&(window.location.href=a.url)}).catch(function(t,a){e.sending=!1,console.debug(t),console.debug(a)})},validateIdea:function(){this.$v.$touch(),this.$v.$invalid||this.saveIdea()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("form",{staticClass:"md-layout-row md-gutter",attrs:{novalidate:""}},[a("md-card-content",[a("div",{staticClass:"md-layout-row md-layout-wrap md-gutter"},[a("div",{staticClass:"md-flex md-flex-small-100"},[a("md-field",{class:e.getValidationClass("title")},[a("label",{attrs:{for:"idea-title"}},[e._v("What is your technology initiative?")]),e._v(" "),a("md-input",{attrs:{name:"title",id:"idea-title"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),e.$v.form.title.required?e.$v.form.title.minlength?e._e():a("span",{staticClass:"md-error"},[e._v("Invalid title")]):a("span",{staticClass:"md-error"},[e._v("Title is required")])],1)],1),e._v(" "),a("div",{staticClass:"md-flex md-flex-small-100"},[a("md-field",{class:e.getValidationClass("description")},[a("label",{attrs:{for:"idea-desc"}},[e._v("Description")]),e._v(" "),a("md-textarea",{attrs:{name:"description",id:"idea-desc"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),e._v(" "),e.$v.form.description.required?e.$v.form.description.minlength?e._e():a("span",{staticClass:"md-error"},[e._v("Invalid Description")]):a("span",{staticClass:"md-error"},[e._v("Description is required")])],1)],1),e._v(" "),a("md-chips",{attrs:{name:"tags",id:"idea-tags","md-placeholder":"Add tag..."},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}}),e._v(" "),a("div",{staticClass:"md-flex md-flex-small-100"},[a("md-field",[a("label",[e._v("Attachments")]),e._v(" "),a("md-file",{attrs:{multiple:""},model:{value:e.fileAttachments,callback:function(t){e.fileAttachments=t},expression:"fileAttachments"}})],1)],1)],1)]),e._v(" "),e.sending?a("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),e._v(" "),a("md-card-actions",[a("button",{staticClass:"et_pb_button",attrs:{type:"submit",disabled:e.sending},on:{click:function(t){t.preventDefault(),e.saveIdea(t)}}},[e._v("Submit")])])],1)])},staticRenderFns:[]},v=a("VU/8")(h,p,!1,function(e){a("jzfn")},"data-v-b14eaf3c",null).exports,g=a("//Fk"),_=a.n(g),w=a("Zrlr"),b=a.n(w),I=a("wxAW"),y=a.n(I),M=function(){function e(){b()(this,e)}return y()(e,null,[{key:"getIdeas",value:function(){var e={data:[{id:1,url:"http://localhost:8080",title:"Idea #1",description:"Easily one of the greatest ideas ever made, this idea does things for people that people really really need. Game changing. Mind blowing. World altering. Welcome to Idea #1.",createdDate:"Jan 14 2018 10:40:16 GMT-0700 (Mountain Standard Time)",stakeholders:[{userName:"gregory.onuczko@edmonton.ca"}]},{id:2,url:"http://localhost:8080",title:"Idea #2",description:"Easily one of the lamest ideas ever made, this idea does things for people that people really really do not need. Mediocre. Milquetoast. Moronic. Welcome to Idea #2.",createdDate:"Dec 28 2017 10:40:16 GMT-0700 (Mountain Standard Time)",stakeholders:[{userName:"jared.rewerts@edmonton.ca"}]},{id:3,url:"http://localhost:8080",title:"Idea #3",description:"Another idea! They're everywhere!",createdDate:"Dec 30 2017 10:40:16 GMT-0700 (Mountain Standard Time)",stakeholders:[{userName:"daniel.chenier@edmonton.ca"}]},{id:4,url:"http://localhost:8080",title:"Idea #4",description:"And another idea! They're everywhere!",createdDate:"Dec 31 2017 10:40:16 GMT-0700 (Mountain Standard Time)",stakeholders:[{userName:"daniel.chenier@edmonton.ca"}]}]};return new _.a(function(t,a){setTimeout(function(){t(e)},2e3)})}}]),e}(),$=new Date("0001-01-01T00:00:00.000Z"),x={name:"ViewIdeas",data:function(){return{ideas:[],errors:[]}},created:function(){var e=this;this.ideas.splice(0,this.ideas.length),M.getIdeas().then(function(t){console.log("received ideas!!"),e.ideas=t.data},function(t){e.errors.push(t)})},methods:{formatIdeaDescription:function(e){var t=e.description;return t&&t.length>140?t.substring(0,140)+"...":t},formatDate:function(e){var t=new Date,a=new Date(e.createdDate);if(a.getTime()===$.getTime())return"";if(a>t)return console.log("idea is was created in the future!"),console.log(e),"";var i=Math.abs(a.getTime()-t.getTime())/1e3;if(i<60)return Math.floor(i)+" secs ago";var n=i/60;if(1===n)return"1 min ago";if(n<60)return Math.floor(n)+" mins ago";var r=n/24;if(1===r)return"1 hour ago";if(r<24)return Math.floor(r)+" hours ago";var s=r/24;if(1===s)return"1 day ago";if(s<365)return Math.floor(s)+" days ago";var o=s/365;return 1===o?"1 year ago":Math.floor(o)+" years ago"},getImage:function(e){var t=["/static/assets/temp/balance-200-white.png","/static/assets/temp/card-travel-200-white.png","/static/assets/temp/explore-200-white.png","/static/assets/temp/help-200-white.png","/static/assets/temp/house-200-white.png"];return t[Math.floor(Math.random()*t.length)]},getColor:function(e){var t=["#3F51B5","#009688","#4CAF50","#607D8B","#ef5350","#00C853","#FF5722","#E91E63"];return t[(Math.floor(Math.random()*t.length)+e.id)%t.length]}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.ideas&&e.ideas.length?a("div",e._l(e.ideas,function(t){return a("md-card",{key:t.id,staticClass:"md-primary",style:{backgroundColor:e.getColor(t)}},[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[e._v(e._s(t.title))]),e._v(" "),a("div",{staticClass:"md-subhead"},[e._v(e._s(e.formatDate(t))+" by "+e._s(t.stakeholders[0].userName))])]),e._v(" "),a("md-card-media",[a("img",{attrs:{src:e.getImage(t),alt:"Avatar"}})])],1),e._v(" "),a("md-card-actions",[a("md-button",[e._v("+1")]),e._v(" "),a("md-button",{attrs:{href:t.url}},[e._v("View")])],1)],1)})):e._e()])},staticRenderFns:[]},A=a("VU/8")(x,C,!1,function(e){a("aMOz")},"data-v-270e0a1f",null).exports;i.default.use(o.a);var D=new o.a({routes:[{path:"/",name:"NewIdea",component:v},{path:"/ViewIdeas",name:"ViewIdeas",component:A}]}),T=a("Lgyv"),k=a.n(T);a("4+hh"),a("VLml");a.d(t,"bus",function(){return L}),i.default.config.productionTip=!1,i.default.use(k.a);var L=new i.default,V=new i.default({el:"#coe-idea-new",router:D,template:"<AppIdeas/>",components:{AppIdeas:s},methods:{initialize:function(e){e.userInfo&&u.setUserInfo(e.userInfo),e.ideaApi&&u.setIdeaApi(e.ideaApi),L.$emit("initialize-ideas",e)}}}),q=window.coe;q||(q={},window.coe=q);var z=q.ideas;z||(z={},q.ideas=z),z.app=V},VLml:function(e,t){},aMOz:function(e,t){},cShR:function(e,t){},jzfn:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.6839d422a6ce3404ef81.js.map