webpackJsonp([1],{"4+hh":function(e,t){},KKhW:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),n={name:"app",mounted:function(){var e=this;x.$on("initialize-ideas",function(t){t.route&&e.$router.push(t.route)})}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app-ideas"}},[t("router-view")],1)},staticRenderFns:[]},r=i("VU/8")(n,s,!1,function(e){i("cShR")},null,null).exports,d=i("/ocq"),o=i("mtWM"),l=i.n(o),c=l.a.create({baseURL:"https://octportal.edmonton.ca:5000/Ideas",headers:{AuthorizationEncrypted:"true"}});c.setUserInfo=function(e){l.a.defaults.headers.common.Authorization="Bearer "+(e||{}).auth},c.setIdeaApi=function(e){e?c.baseURL=e:l.a.defaults.baseURL="https://octportal.edmonton.ca:5000/Ideas"};var u=c,m=i("ESwS"),f=i("+cKO"),v={name:"NewIdea",mixins:[m.validationMixin],data:function(){return{sending:!1,form:{title:null,description:null,tags:[]}}},validations:{form:{title:{required:f.required,minLength:Object(f.minLength)(3),maxLength:Object(f.maxLength)(255)},description:{required:f.required,minLength:Object(f.minLength)(3)}}},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.form.title=null,this.form.description=null,this.form.tags=[]},saveIdea:function(){var e=this;this.sending=!0,console.log("saving new idea"),u.post("",{title:this.form.title,description:this.form.description}).then(function(t){console.log("new idea saved!"),e.sending=!1}).catch(function(t,i){e.sending=!1,console.debug(t),console.debug(i)})},validateIdea:function(){this.$v.$touch(),this.$v.$invalid||this.saveIdea()}}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("form",{staticClass:"md-layout-row md-gutter",attrs:{novalidate:""}},[i("md-card-content",[i("div",{staticClass:"md-layout-row md-layout-wrap md-gutter"},[i("div",{staticClass:"md-flex md-flex-small-100"},[i("md-field",{class:e.getValidationClass("title")},[i("label",{attrs:{for:"idea-title"}},[e._v("Idea")]),e._v(" "),i("md-input",{attrs:{name:"title",id:"idea-title"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),e.$v.form.title.required?e.$v.form.title.minlength?e._e():i("span",{staticClass:"md-error"},[e._v("Invalid title")]):i("span",{staticClass:"md-error"},[e._v("Title is required")])],1)],1),e._v(" "),i("div",{staticClass:"md-flex md-flex-small-100"},[i("md-field",{class:e.getValidationClass("description")},[i("label",{attrs:{for:"idea-desc"}},[e._v("Description")]),e._v(" "),i("md-textarea",{attrs:{name:"description",id:"idea-desc"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),e._v(" "),e.$v.form.description.required?e.$v.form.description.minlength?e._e():i("span",{staticClass:"md-error"},[e._v("Invalid Description")]):i("span",{staticClass:"md-error"},[e._v("Description is required")])],1)],1),e._v(" "),i("md-chips",{attrs:{name:"tags",id:"idea-tags","md-placeholder":"Add tag..."},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1)]),e._v(" "),e.sending?i("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),e._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending},on:{click:function(t){t.preventDefault(),e.saveIdea(t)}}},[e._v("Submit idea")])],1)],1)])},staticRenderFns:[]},h=i("VU/8")(v,p,!1,function(e){i("qtYA")},"data-v-c597401a",null).exports,g={name:"ViewIdeas",data:function(){return{ideas:[],errors:[]}},created:function(){var e=this;this.ideas.splice(0,this.ideas.length),u.get("").then(function(t){e.ideas=t.data}).catch(function(t){e.errors.push(t)})},methods:{}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.ideas&&e.ideas.length?i("md-table",[i("md-table-row",[i("md-table-head",[e._v("Title")]),e._v(" "),i("md-table-head",[e._v("Stakeholders")])],1),e._v(" "),e._l(e.ideas,function(t){return i("md-table-row",{key:t.id},[i("md-table-cell",[e._v(e._s(t.title))]),e._v(" "),i("md-table-cell",[t.stakeholders&&t.stakeholders.length?i("ul",e._l(t.stakeholders,function(t){return i("li",{key:t.id},[e._v(e._s(t.userName))])})):e._e()])],1)})],2):e._e()],1)},staticRenderFns:[]},b=i("VU/8")(g,_,!1,function(e){i("KKhW")},"data-v-9f35c4f0",null).exports;a.default.use(d.a);var w=new d.a({routes:[{path:"/",name:"NewIdea",component:h},{path:"/ViewIdeas",name:"ViewIdeas",component:b}]}),I=i("Lgyv"),$=i.n(I);i("4+hh"),i("VLml");i.d(t,"bus",function(){return x}),a.default.config.productionTip=!1,a.default.use($.a);var x=new a.default,C=new a.default({el:"#coe-idea-new",router:w,template:"<AppIdeas/>",components:{AppIdeas:r},methods:{initialize:function(e){e.userInfo&&u.setUserInfo(e.userInfo),e.ideaApi&&u.setIdeaApi(e.ideaApi),x.$emit("initialize-ideas",e)}}}),L=window.coe;L||(L={},window.coe=L);var k=L.ideas;k||(k={},L.ideas=k),k.app=C},VLml:function(e,t){},cShR:function(e,t){},qtYA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.71ad1d44c95c50d78003.js.map